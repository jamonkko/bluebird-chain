/*!
 * @license
 * bluebird-chain v0.2.0 (https://github.com/jamonkko/bluebird-chain#readme)
 * Copyright 2017 Jarkko Mönkkönen <jamonkko@gmail.com>
 * Licensed under MIT
 */
!function(e,r){if("function"==typeof define&&define.amd)define(["module","exports","bluebird"],r);else if("undefined"!=typeof exports)r(module,exports,require("bluebird"));else{var n={exports:{}};r(n,n.exports,e.bluebird),e.PC=e.PromiseChain=n.exports}}(this,function(e,r,n){"use strict";function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r.default=e,r}function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)}function u(e){for(var r=function(e){if(!e)return e;if("function"==typeof e.then)return e;if(e.hasOwnProperty(l))return e[l]();if(!d.aware)return e;if(e instanceof Array){if(d.aware.all)return c.all(e)}else if(d.aware.props&&"object"===("undefined"==typeof e?"undefined":f(e)))return c.props(e);return e},n=function(e){return e instanceof Function||"object"===("undefined"==typeof e?"undefined":f(e))&&e.hasOwnProperty(l)?e:function(){return e}},t=function(e,n){return n.hasOwnProperty(l)?e.then(n[l]):e.then(n).then(r)},o=arguments.length,i=Array(o>1?o-1:0),u=1;u<o;u++)i[u-1]=arguments[u];return i.map(n).reduce(t,e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=t(n),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=a.Promise||window.Promise,l=Symbol("esc"),d={},p=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return u.apply(void 0,[c.resolve()].concat(r))};p.config=function(e){var r=e.aware;"undefined"!=typeof r&&(r===!0?d.aware={all:!0,props:!0}:"object"===("undefined"==typeof r?"undefined":f(r))?d.aware=Object.assign({},d.aware,r):d.aware=!!r)},p.build=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];var o=function(r){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];return o.length>0?u.apply(void 0,[c.resolve(),[r].concat(o),p.spread(e)].concat(n)):u.apply(void 0,[c.resolve(),r,e].concat(n))};return o.bind=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return i.length>0?u.apply(void 0,[c.resolve().bind(r),[t].concat(i),p.spread(e)].concat(n)):u.apply(void 0,[c.resolve().bind(r),t,e].concat(n))}},o},p.spread=function(e){return function(r){return e.apply(void 0,i(r))}},p.bind=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){for(var r=arguments.length,n=Array(r),t=0;t<r;t++)n[t]=arguments[t];return u.apply(void 0,[c.resolve().bind(e)].concat(n))}},p.esc=function(e){return o({},l,e instanceof Function?e:function(){return e})},p.config({aware:!0}),r.default=p,e.exports=r.default});