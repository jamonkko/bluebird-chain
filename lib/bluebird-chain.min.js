/*!
 * @license
 * bluebird-chain v0.1.0 (https://github.com/jamonkko/node-bluebird-chain#readme)
 * Copyright 2016 Jarkko Mönkkönen <jamonkko@gmail.com>
 * Licensed under MIT
 */
!function(e,n){if("function"==typeof define&&define.amd)define(["module","exports","bluebird"],n);else if("undefined"!=typeof exports)n(module,exports,require("bluebird"));else{var r={exports:{}};n(r,r.exports,e.bluebird),e.PC=e.PromiseChain=r.exports}}(this,function(e,n,r){"use strict";function t(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n["default"]=e,n}function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u(e){function n(e){if(!e)return e;if("function"==typeof e.then)return e;if(e[c])return e[c]();if(!l.aware)return e;if(e instanceof Array){if(l.aware.all)return f.all(e)}else if(l.aware.props&&"object"===("undefined"==typeof e?"undefined":a(e)))return f.props(e);return e}for(var r=arguments.length,t=Array(r>1?r-1:0),o=1;r>o;o++)t[o-1]=arguments[o];return t.map(function(e){return e instanceof Function||e[c]?e:function(){return e}}).reduce(function(e,r){return r[c]?e.then(r[c]):e.then(r).then(n)},e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t(r),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},f=i.Promise||window.Promise,c=Symbol("raw"),l={},s={config:function(e){var n=e.aware;"undefined"!=typeof n&&(n===!0?l.aware={all:!0,props:!0}:"object"===("undefined"==typeof n?"undefined":a(n))?l.aware=Object.assign({},l.aware,n):l.aware=n)},chain:function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];return u.apply(void 0,[f.resolve()].concat(n))},bind:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{chain:function(){for(var n=arguments.length,r=Array(n),t=0;n>t;t++)r[t]=arguments[t];return u.apply(void 0,[f.resolve().bind(e)].concat(r))}}},raw:function(e){return o({},c,e instanceof Function?e:function(){return e})}};s.config({aware:!0}),n["default"]=s,e.exports=n["default"]});