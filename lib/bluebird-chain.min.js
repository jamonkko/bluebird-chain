/*!
 * @license
 * bluebird-chain v0.1.0 (https://github.com/jamonkko/bluebird-chain#readme)
 * Copyright 2017 Jarkko Mönkkönen <jamonkko@gmail.com>
 * Licensed under MIT
 */
!function(e,n){if("function"==typeof define&&define.amd)define(["module","exports","bluebird"],n);else if("undefined"!=typeof exports)n(module,exports,require("bluebird"));else{var r={exports:{}};n(r,r.exports,e.bluebird),e.PC=e.PromiseChain=r.exports}}(this,function(e,n,r){"use strict";function t(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e){function n(e){if(!e)return e;if("function"==typeof e.then)return e;if(e[c])return e[c]();if(!l.aware)return e;if(e instanceof Array){if(l.aware.all)return a.all(e)}else if(l.aware.props&&"object"===("undefined"==typeof e?"undefined":f(e)))return a.props(e);return e}for(var r=arguments.length,t=Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];return t.map(function(e){return e instanceof Function||e[c]?e:function(){return e}}).reduce(function(e,r){return r[c]?e.then(r[c]):e.then(r).then(n)},e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=t(r),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=u.Promise||window.Promise,c=Symbol("esc"),l={},d=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i.apply(void 0,[a.resolve()].concat(n))};d.config=function(e){var n=e.aware;"undefined"!=typeof n&&(n===!0?l.aware={all:!0,props:!0}:"object"===("undefined"==typeof n?"undefined":f(n))?l.aware=Object.assign({},l.aware,n):l.aware=!!n)},d.bind=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){for(var n=arguments.length,r=Array(n),t=0;t<n;t++)r[t]=arguments[t];return i.apply(void 0,[a.resolve().bind(e)].concat(r))}},d.esc=function(e){return o({},c,e instanceof Function?e:function(){return e})},d.config({aware:!0}),n.default=d,e.exports=n.default});